<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libui-ng: Contributing to libui-ng</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libui-ng
   </div>
   <div id="projectbrief">A portable GUI library for C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__c_o_n_t_r_i_b_u_t_i_n_g.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Contributing to libui-ng </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >libui-ng is an open source project that openly accepts contributions. We appreciate your help!</p>
<h1><a class="anchor" id="autotoc_md23"></a>
Rules for contributing code</h1>
<p >While libui-ng is open to contributions, a number of recent, significantly large contributions and uncontributed forks have recently surfaced that do not present themselves in a form that makes it easy for libui-ng to accept them. In order to give your contribution a high chance of being accepted into libui-ng, please keep the following in mind as you prepare your contribution.</p>
<h2><a class="anchor" id="autotoc_md24"></a>
Commit messages and pull request description</h2>
<p >libui-ng does not enforce rules about the length or detail that a commit message. We are not looking for an essay. However, single-word descriptions of nontrivial changes are <em>not</em> acceptable. We should be able to get a glimpse of what a commit does from the commit message, even if it's just one sentence to describe a trivial change. (Yes, we know we haven't followed this rule strictly myself, but we try not to break it too.) And a commit message should encompass everything; typically, we make a number of incremental commits toward a feature, so the commit messages don't have to be too long to explain everything.</p>
<p >Your pull request description, on the other hand, must be a summary of the sum total of all the changes made to libui-ng. Don't just drop a pull request on us with a one-line-long elevator pitch of what you added. Describe your proposed API changes, implementation requirements, and any important consequences of your work.</p>
<h2><a class="anchor" id="autotoc_md25"></a>
Code formatting</h2>
<p >libui-ng uses K&amp;R C formatting rules for overall code structure: spaces after keywords like <code>if</code>, <code>{</code> on the same line as a statement with a space, <code>{</code> on its own line after a function or method signature (even those inside the class body), no space after the name of a function, etc.</p>
<p >Use hard tabs, NOT spaces, for indentation. We use a proportional-width font and our text editor doesn't set tabs to a multiple of the space width, so we <em>will</em> be able to tell. If you use a fixed-width font, I suggest setting a tab width of 4 spaces per tab, but don't put diagrams in comments with hard tabs, because not everyone does this.</p>
<p >Expressions should have a space around binary operators, and use parentheses where it would help humans gather the meaning of an expression, regardless of whether a computer could tell what is correct.</p>
<p >When breaking expressions into multiple lines, always break <em>after</em> an operator, such as <code>,</code> or <code>&amp;&amp;</code>.</p>
<p >There should be a newline between a function's variables and a function's code. After that, you can place newlines to delimit different parts of a function, but don't go crazy.</p>
<p >In the event you are unsure of something, refer to existing libui-ng code for examples. We may wind up fixing minor details later anyway, so don't fret about getting minor details right the first time.</p>
<h2><a class="anchor" id="autotoc_md26"></a>
Naming</h2>
<p >libui-ng uses camel-case for naming, with a handful of very specific exceptions (namely GObject method names, where GObject itself enforces the naming convention).</p>
<p >All public API names should begin with <code>ui</code> and followed by a capital letter. All public struct field names should begin with a capital letter. This is identical to the visibiilty rules of Go, assuming a package name of <code>ui</code>.</p>
<p >Private API names — specifcally those used by more than one source file — should begin with <code>uipriv</code> and be followed by a capital letter. This avoids namespace collisions in static libraries.</p>
<p >Static functions and static objects do not have naming restrictions.</p>
<p >Acronyms should <b>NOT</b> be mixed-case. <code>http</code> for the first word in a camel-case name, <code>HTTP</code> for all else, but <b>NEVER</b> <code>Http</code>. This is possibly the only aspect of the controversial nature of code style that we consider indefensibly stupid.</p>
<h2><a class="anchor" id="autotoc_md27"></a>
API documentation</h2>
<p >(TODO We are writing an API documentation tool; once that becomes stable enough we can talk about documenting libui properly. You'll see vestiges of it throughout <a class="el" href="ui_8h.html">ui.h</a>, though.)</p>
<h2><a class="anchor" id="autotoc_md28"></a>
Other commenting</h2>
<p >(TODO write this part)</p>
<h2><a class="anchor" id="autotoc_md29"></a>
Compatibility</h2>
<p >libui-ng takes backward compatibility seriously. Your code should not break the current compatibility requirements. All platforms provide a series of macros, defined in the various <code>uipriv_*.h</code> files (or <code>winapi.hpp</code> on Windows), that specify the minimum required version. If you find yourself needing to remove these or ignore resultant warnings or errors, you're probably breaking compatibility.</p>
<p >Choosing to drop older versions of Windows, GTK+, and OS X that we could have easily continued to support was not done lightly. If you want to discuss dropping support for an older version of any of these for the benefit of libui-ng, file an issue pleading your case (see below).</p>
<p >GTK+ versions are harder to drop because we are limited by Linux distribution packaging. In general, we will consider bumping GTK+ versions on a new Ubuntu LTS release, choosing the earliest version available on the major distributions at the time of the <em>previous</em> Ubuntu LTS release. As of writing, the next milestone will be <em>after</em> April 2018, and the target GTK+ version appears to be 3.18, judging by Ubuntu 16.04 LTS alone. This may be bumped back depending on other distros (or it may not be bumped at all), but you may wish to keep this in mind as you write.</p>
<p >(TODO talk about future.c/.cpp/.m files)</p>
<p >As for language compatibility, libui-ng is written in C99. We have no intention of changing this.</p>
<p >As for build system compatibility, libui-ng uses CMake 3.1.0. If you wish to bump the version, file an issue pleading your case (but see below).</p>
<p ><b>If you do plead your case</b>, keep in mind that "it's old" is not a sufficient reason to drop things. If you can prove that <b>virtually no one</b> uses the minimum version anymore, then that is stronger evidence. The best evidence, however, is that not upgrading will hold libui-ng back in some significant way — but beware that there are some things we won't add to libui-ng itself.</p>
<h2><a class="anchor" id="autotoc_md30"></a>
Windows-specific notes</h2>
<p >The Windows backend of libui-ng is written in C++ using C++11.</p>
<p >Despite using C++, please refrain from using the following:</p>
<ul>
<li>using C++ in ui_windows.h (this file should still be C compatible)</li>
<li>smart pointers</li>
<li>namespaces</li>
<li><code>using namespace</code></li>
<li>ATL, MFC, WTL</li>
</ul>
<p >The following are not recommended, for consistency with the rest of libui-ng:</p>
<ul>
<li>variable declarations anywhere in a function (keep them all at the top)</li>
<li><code>for (int x...</code> (C++11 foreach syntax is fine, though)</li>
<li>omitting the <code>struct</code> on type names for ordinary structs</li>
</ul>
<p >The format of a class should be</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">class name : public ancestor {</div>
<div class="line">    int privateVariable;</div>
<div class="line">    // etc.</div>
<div class="line">public:</div>
<div class="line">    // public stuff here</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md31"></a>
GTK+-specific notes</h2>
<p >Avoid GNU-specific language features. We build with strict C99 conformance.</p>
<h2><a class="anchor" id="autotoc_md32"></a>
OS X-specific notes</h2>
<p >Avoid GNU-specific/clang-specific language features. We build with strict C99 conformance.</p>
<p >libui-ng is presently <b>not</b> ARC-compliant. Features that require ARC should be avoided for now. We may consider changing this in the future, but it will be a significant change.</p>
<p >To ensure maximum compiler output in the event of a coding error, there should not be any implicit method calls in Objective-C code. For instance, don't do</p>
<div class="fragment"><div class="line">[[array objectAtIndex:i] method]</div>
</div><!-- fragment --><p >Instead, cast the result of <code>objectAtIndex:</code> to the appropriate type, and then call the method. (TODO learn about, then decide a policy on, soft-generics on things other than <code>id</code>)</p>
<p >The format of a class should be</p>
<div class="fragment"><div class="line"><span class="keyword">@interface </span>name : parent&lt;protocols&gt; {</div>
<div class="line">    <span class="comment">// ivars</span></div>
<div class="line">}</div>
<div class="line"><span class="comment">// properties</span></div>
<div class="line">- (ret)method:(<span class="keywordtype">int</span>)arg;</div>
<div class="line"><span class="comment">// more methods</span></div>
<div class="line"><span class="keyword">@end</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">@implementation </span>name</div>
<div class="line"> </div>
<div class="line">- (ret)method:(<span class="keywordtype">int</span>)arg</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// note the lack of semicolon</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">@end</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
  <script type="text/javascript">
    // script for doxygen 1.9.2+
    $(function() {
      toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
      toggleButton.title = "Toggle Light/Dark Mode"
      $(document).ready(function(){
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
      })
      $(window).resize(function(){
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
      })
    })
  </script>
</body>
</html>
